<div [formGroup]="form" role="form" class="row" (submit)="ajoute()" >
<div class="col-12 d-flex justify-content-center text-center" >
    <table>
        <tr>
            <td><mat-form-field hintLabel="Max 8 characters" appearance="fill">
        <mat-label>Cin</mat-label>
        <input maxlength="number"   minlength="number" minlength=8  maxlength=8 formControlName="Cin" matInput #input required placeholder="Ex. Nougat">

        <mat-error *ngIf="form.get('Cin').hasError('required')">
            Cin is <strong>obligatoire</strong>
          </mat-error>
          <mat-error *ngIf="form.get('Cin').hasError('minlength')">
            Le cin doit comporter au moins 8 caractères.
          </mat-error>


      <mat-error *ngIf="form.get('Cin').hasError('pattern')">
        Le cin doit content que des  number.
      </mat-error>
  </mat-form-field>
    </td>
      <td><div class="col-12 d-flex justify-content-center text-center">
        <mat-form-field appearance="fill">
          <mat-label>Nom</mat-label>
          <input matInput required formControlName="Nom">
          <mat-error *ngIf="form.get('Nom').hasError('required')">
            Nom est <strong>obligatoire</strong>
          </mat-error>
        </mat-form-field>
    </div></td>
        </tr>
        <tr>

            <td><div class="col-12 d-flex justify-content-center text-center">  <mat-form-field appearance="fill">
                <mat-label>Prenom</mat-label>
                <input matInput required formControlName="Prenom">
                <mat-error *ngIf="form.get('Prenom').hasError('required')">
                  Prenom est <strong>obligatoire</strong>
                </mat-error>
              </mat-form-field></div>


            </td>
        </tr>
        <tr>
              <td><div class="col-12 d-flex justify-content-center text-center"> <mat-form-field appearance="fill">
                <mat-label>Date de naissance </mat-label>
                <input matInput type="date" formControlName="Date_de_naissance" required>
                <mat-error *ngIf="form.get('Date_de_naissance').hasError('required')">
                  Date_de_naissance est <strong>obligatoire</strong>
                </mat-error>
              </mat-form-field></div></td>
              <td> <div class="col-12 d-flex justify-content-center text-center"><mat-form-field appearance="fill">
                <mat-label>Adresse</mat-label>
                <input matInput required formControlName="Adresse">
                 <mat-error *ngIf="form.get('Date_de_naissance').hasError('required')">
                  Adresse est <strong>obligatoire</strong>
                </mat-error>
              </mat-form-field></div></td></tr><tr>
              <td><div class="col-12 d-flex justify-content-center text-center"><mat-form-field appearance="fill">
                <mat-label>Telephone </mat-label>
                <input formControlName="Tel" maxlength="number"  minlength="number" minlength=8 maxlength=8  matInput required >
                <mat-error *ngIf="form.get('Tel').hasError('required')">
                  Telephone est <strong>obligatoire</strong>
                </mat-error>
                <mat-error *ngIf="form.get('Tel').hasError('minlength')">
                  Le Tel doit comporter au moins 8 caractères.
                </mat-error>
                <mat-error *ngIf="form.get('Tel').hasError('pattern')">
                    Le cin doit content que des  number.
                  </mat-error>
              </mat-form-field></div></td>
              <td>
                <div class="col-12 d-flex justify-content-center text-center">
                    <mat-form-field appearance="fill">
                        <mat-label>Fax</mat-label>
                        <input formControlName="Fax" maxlength="number"  minlength="number" minlength=8 maxlength=8  matInput required>

                        <mat-error *ngIf="form.get('Fax').hasError('required')">
                            Fax est <strong>obligatoire</strong>
                          </mat-error>
                          <mat-error *ngIf="form.get('Fax').hasError('minlength')">
                            Le Fax doit comporter au moins 8 caractères.
                          </mat-error>
                          <mat-error *ngIf="form.get('Fax').hasError('pattern')">
                            Le cin doit content que des  number.
                          </mat-error>
                      </mat-form-field>

                </div></td>
        </tr>
        <tr>
            <td><div class="col-12 d-flex justify-content-center text-center"><mat-form-field appearance="fill" >
                <mat-label>Email</mat-label>
                <input matInput formControlName="Email" required placeholder="Ex. pat@example.com">
                <mat-error *ngIf="form.get('Email').hasError('email') && !form.get('Email').hasError('required')">
                    S'il vous plaît, mettez une adresse email valide
                </mat-error>
                <mat-error *ngIf="form.get('Email').hasError('required')">
                  Email est  <strong>obligatoire</strong>
                </mat-error>
              </mat-form-field></div></td>
              <td><div class="col-12 d-flex justify-content-center text-center"><mat-form-field appearance="fill">
                <mat-label>NumCNSS </mat-label>
                <input matInput formControlName="NumCNSS" required>
                <mat-error *ngIf="form.get('NumCNSS').hasError('required')">
                  NumCNSS est <strong>obligatoire</strong>
                </mat-error>



              <mat-error *ngIf="form.get('NumCNSS').hasError('pattern')">
                Le NumCNSS doit content que des  number.
              </mat-error>
              </mat-form-field></div></td>
        </tr>
        <tr>
            <td> <div class="col-12 d-flex justify-content-center text-center">
                <mat-form-field appearance="fill">
                    <mat-label>Situation familialle</mat-label>
                    <select matNativeControl formControlName="SituationFamilialle" required>
                      <option value="marié">marié </option>
                      <option value="pacsé">pacsé </option>
                      <option value="divorcé">divorcé </option>
                      <option value="séparé">séparé</option>
                      <option value="célibataire">célibataire </option>
                      <option value="veuf">veuf </option>

                    </select>
                    <mat-error *ngIf="form.get('SituationFamilialle').hasError('required')">
                        Situation Familialle est <strong>obligatoire</strong>
                      </mat-error>
                  </mat-form-field></div></td>
                  <td> <div class="col-12 d-flex justify-content-center text-center">
                    <button  type="button" class="btn btn-warning" style="margin-bottom: 10px;" (click)="filePicker.click()" *ngIf='imagePreview ==null'>Copier de permis
                    </button>
                    <button  type="button" class="btn btn-warning" style="margin-bottom: 10px;" (click)="supprimer()"*ngIf='imagePreview !=null' >Supprimer image</button>
</div>
                </td>
        </tr>
        <tr><td><div class="col-12 d-flex justify-content-center text-center">
            <input type="file" #filePicker (change)="onImagePicked($event)" style="visibility: hidden;">
            <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('CopierPermis').valid">
                <img [src]="imagePreview" [alt]="form.value.title">
              </div></div></td>
            <td><button class="btn btn-primary" (click)="ajoute()">enregistre</button></td>

            </tr>
    </table>

</div>














